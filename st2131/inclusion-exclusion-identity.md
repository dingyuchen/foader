# Inclusion-Exclusion Identity

Inclusion-Exclusion Identity:

$$
\begin{aligned}
  P(E_1 \cup E_2 \cup ... \cup E_n) &= \sum^n_{i = 1} P(E_i) \\
  &- \sum_{i_1 < i_2} P(E_{i_1}, E_{i_2}) \\
  &+ ... \\
  &+ (-1)^{r + 1} \sum_{i_1 < i_2 < ... < i_r} P(E_{i_1}, E_{i_2}, ..., E_{i_r}) \\
  &+ (-1)^{n + 1} P(E_{i_1}, E_{i_2}, ..., E_{i_n})
\end{aligned}
$$

## Proof

If an outcome of the sample space is not a member of any of the set $E_i$, then its probability does not contribute anything to either side of the _addition law of exclusive events_.

Suppose that an outcome is in exactly $m$ of the events $E_i$, where $m > 0$, 
and let the probability of the outcome be $w$, then

1. the outcome is in $E_1 \cup E_2 \cup ... \cup E_n$ and $w$ will be counted once in $P(E_1 \cup E_2 \cup ... \cup E_n)$
2. the outcome is in exactly $m$ of the events and $w$ will be counted exactly $\binom{m}{1}$ times in $\sum^n_{i = 1} P(E_i)$.
   1. the outcome is contained in $\binom{m}{2}$ subsets of the type $E_{i_1}, E_{i_2}$ and $w$ will be counted $\binom{m}{2}$ times in $\sum_{i_1 < i_2} P(E_{i_1}, E_{i_2})$
   2. and so on.

Then 

$$
\begin{aligned}
 w &= \binom{m}{1} w - \binom{m}{2} w + \binom{m}{3}w - ... \plusmn \binom{m}{m}w \\
1 &= \binom{m}{1} - \binom{m}{2} + \binom{m}{3}- ... \plusmn \binom{m}{m} \\
&\binom{m}{0} - \binom{m}{1} + \binom{m}{2} - \binom{m}{3} + ... \plusmn \binom{m}{m} = 0
\end{aligned}
$$

$$
\sum^m_{i = 0} \binom{m}{i} (-1)^i = 0
$$

Recall [[binomial-theorem]],

$$
\sum^m_{i = 0} \binom{m}{i} x^i y^{m - i} = (x + y)^{m}
$$

Let $x = -1$, $y = 1$,

$$
\sum^m_{i = 0} \binom{m}{i} (-1)^i = 0
$$

Therefore [the identity](#inclusion-exclusion-identity) is indeed true.

[//begin]: # "Autogenerated link references for markdown compatibility"
[binomial-theorem]: binomial-theorem "Binomial Theorem"
[//end]: # "Autogenerated link references"